/**
 * @ author: xxx
 * @ copyright: Copyright (c)
 * @ license: Apache License 2.0
 * @ version: 2019-12-26 11:59:44
 */
import { Controller, BaseController, Autowired, RequestMapping, RequestMethod, PathVariable, PostMaping, RequestBody, Valid, Get } from "../../../src/index";
import { App } from '../App';
import { TestService } from "../service/TestService";

@Controller("/")
export class IndexController extends BaseController {
    app: App;

    @Autowired()
    private testService: TestService;
    cache: {};

    init() {
        this.cache = {};
    }

    @RequestMapping("/", RequestMethod.ALL)
    async default(@PathVariable("test") @Valid("notEmpty") test: string) {
        const info = await this.testService.test();
        return this.body(info);
    }

}
